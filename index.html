
===== أضف هذا داخل <head> =====

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyDSCaJVrFedUkZuCzmyC31ln5A7TkxuCE",
    authDomain: "orders-sync-9e73c.firebaseapp.com",
    databaseURL: "https://orders-sync-9e73c-default-rtdb.firebaseio.com",
    projectId: "orders-sync-9e73c",
    storageBucket: "orders-sync-9e73c.appspot.com",
    messagingSenderId: "685651184185",
    appId: "1:685651184185:web:d4f6ceb9f1c47b6376b24",
    measurementId: "G-HYDSFRCFKQW"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
</script>


===== أضف هذا داخل <body> في الأسفل =====

<script>
function syncToFirebase() {
  if (!orders.length) return;
  const updates = {};
  orders.forEach(o => {
    const id = o['رقم الطلب'];
    if (id) updates[id] = o;
  });
  db.ref("orders").set(updates)
    .then(() => alert("✅ تم رفع الطلبات إلى Firebase"))
    .catch(err => alert("حدث خطأ في الرفع إلى Firebase: " + err));
}

function loadFromFirebase() {
  db.ref("orders").once("value", snapshot => {
    const data = snapshot.val();
    if (data) {
      orders = Object.values(data);
      save();
      render();
    }
  });
}

window.addEventListener('load', loadFromFirebase);

// إنشاء زر المزامنة
const btn = document.createElement("button");
btn.textContent = "مزامنة إلى Firebase";
btn.className = "btn btn-outline-dark btn-sm col-auto";
btn.onclick = syncToFirebase;

// إضافته ضمن أدوات التحكم (تأكد أن لديك div.controls)
document.querySelector(".controls")?.appendChild(btn);
</script>
